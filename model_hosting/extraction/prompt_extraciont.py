class PromptExtraction:
    def __init__(self):
        pass

    def make_prompt_to_query_mate(self, doc_text, input_text):
        prompt = f"""
            문서 평가를 수행하여 핵심 내용을 추출하고 잘 작성된 부분과 잘못된 부분을 식별한 후 점수를 매깁니다. 문서 점수는 100점 만점이며, 모든 문서는 100점에서 시작하며 잘못된 부분이 발견될 때마다 점수를 차감합니다.

            # Steps

            1. **핵심 내용 추출:** 문서의 주요 메시지나 주장을 식별합니다.
            2. **잘 작성된 부분 식별:** 논리적 구조, 어휘 사용, 문법적 정확성과 같은 점에서 문서의 장점을 파악합니다.
            3. **잘못된 부분 식별:** 논리적 불일치, 부정확한 정보, 불명확한 표현 등을 확인합니다.
            4. **점수 조정:** 잘못된 부분마다 점수를 깎고 그 이유를 명시합니다.
            5. **최종 평가:** 최종 점수와 함께 문서의 강점과 개선할 점을 요약합니다.

            # Output Format

            - 문서의 핵심 내용을 1-2 문장으로 요약합니다.
            - 잘 작성된 부분에 대한 평가와 그 이유를 나열합니다.
            - 잘못된 부분에 대한 평가와 그 이유를 나열합니다.
            - 잘못된 부분에 따라 몇 점이 차감되었는지 명시합니다.
            - 최종 문서 점수를 제공합니다.
            - 전체적인 평가서를 문단 형식으로 작성합니다.

            # Examples

            **Input:** {doc_text},{input_text}

            **Output:**

            ```
            - 핵심 내용 요약: [문서의 핵심 내용을 간단히 요약합니다.]
            - 잘 작성된 부분 평가:
            - [구체적인 부분]이 [이유]로 인해 잘 작성되었습니다.
            - ...
            - 잘못된 부분 평가:
            - [구체적인 부분]이 [문제점]으로 인해 잘못되었습니다.
            - ...
            - 차감된 점수: [잘못된 부분별로 차감된 점수 명시]
            - 최종 점수: [차감 후 최종 점수]
            - 종합 평가 요약: 문서에서 잘 된 부분과 개선할 부분에 대한 평가를 종합하여 진술합니다.
            ```

            # Notes

            - 문법적, 논리적, 내용적 오류를 감지할 때 주의하십시오.
            - 점수 차감 시 이유를 명확하고 구체적으로 설명합니다.
            - 전반적인 분석과 평가에 객관적이고 공정하게 접근합니다.
            """
        return prompt
    def make_prompt_to_extract_criteria(self, document_text):
        return f"""
당신은 사업 제안서 문서를 분석하여, 심사자가 사업을 평가할 때 참고하는 '평가 기준(또는 평가 요소)'을 정확히 추출하는 전문가입니다.

# 역할
- 당신은 사업제안서의 구조, 항목, 제목, 부제목, 표 등의 정보를 근거로 평가 요소만을 식별해야 합니다.
- 사업의 목적, 기대 효과, 추진 계획, 예산 등 실제 심사자가 중요하게 평가할 만한 내용을 기준으로 판단해야 합니다.

# 출력 형식
- 반드시 항목 번호를 붙여 정리하세요.
- 항목당 하나의 평가 기준을 요약된 문장으로 표현하세요.
- 평가는 일반적으로 심사위원이 체크리스트 형태로 사용할 수 있게 작성되어야 합니다.

# 제약 조건
- 사업 설명 자체, 지원 자격, 신청 절차 등은 평가 기준이 아니므로 제외하세요.
- 문서에 나타나지 않은 추론은 하지 마세요.

예시:
1. 사업 목적의 구체성과 명확성
2. 사업 수행 인력의 전문성
3. 추진 일정의 현실성
4. 예산 편성의 타당성과 적정성
5. 기대 효과의 실현 가능성

# 입력 문서
{document_text}

# 출력 (평가 기준 항목 목록):
"""

    def make_prompt_to_query_document(self, document_text, question):
        return f"""
당신은 사업 제안서 문서 내용을 기반으로 질문에 정확하고 정직하게 답변하는 지능형 비서입니다.

# 역할
- 사용자가 사업 제안서에 관해 묻는 질문에 대해, 오직 해당 문서 내에 존재하는 정보를 바탕으로 답변하세요.
- 문서에 근거가 없는 정보는 절대로 상상해서 대답하지 마세요.

# 답변 형식
- 명확하고 간결한 문장으로 답변하세요.
- 문서 내용이 불충분하거나 해당 정보가 없다면 반드시 다음과 같이 대답하세요:
  → "해당 정보는 문서에서 찾을 수 없습니다."

# 제약 조건
- 질문이 명확하지 않아도 문서에서 최대한 근거 있는 부분을 찾아 응답하세요.
- 문서에 있는 내용 외에는 어떠한 추측이나 배경 지식을 사용하지 마세요.

# 입력 문서
{document_text}

# 질문
{question}

# 답변
"""
    